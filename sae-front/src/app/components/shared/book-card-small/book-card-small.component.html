<div href="#" class="flex flex-col max-w-40 lg:max-w-xs p-3 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100">
  <div class="flex justify-center pb-4">
    <img  [src]="book.photoCouverture" alt="" class="w-full" />
  </div>
  <div class="flex flex-col px-3 pt-2">
    <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900">
      {{ book.titre }}
    </h5>
    <p class="font-normal text-gray-700">
      {{ book.langue }} - {{ book.dateSortie | date : "yyyy" }}
      <span *ngIf="book.auteurs">
        - {{ book.auteurs[0].prenom }} {{ book.auteurs[0].nom }}</span
      >
    </p>
  </div>
  <div class="flex flex-col justify-center mt-6 gap-2 p-3">
    <button
      [routerLink]="['/book/', book.id]"
      class="border w-full border-blue-700 text-blue-700 py-2 px-3 h-fit transition-all hover:bg-blue-700 hover:text-white"
    >
      Voir les détails
    </button>
    @if (bookStatus.reservedByUser === true ) {
    <button
      (click)="cancelReservation()"
      class="bg-red-700 text-white py-3 px-8 w-full h-fit transition-all hover:bg-red-900"
    >
      Annuler la réservation
    </button>
    } @else {
    <button
      (click)="reserveBook()"
      class="bg-blue-700 text-white py-3 px-8 w-full h-fit transition-all hover:bg-blue-900 disabled:opacity-50 disabled:cursor-not-allowed"
      [disabled]="
        bookStatus.avalaible === false ||
        bookStatus.reserved ||
        bookStatus.borrowed ||
        isLoggedIn === false
      "
    >
      Réserver
    </button>
    }
  </div>
</div>
